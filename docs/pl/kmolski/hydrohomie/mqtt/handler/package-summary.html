<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>pl.kmolski.hydrohomie.mqtt.handler (hydrohomie 1.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: pl.kmolski.hydrohomie.mqtt.handler">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li>Related Packages&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package pl.kmolski.hydrohomie.mqtt.handler" class="title">Package pl.kmolski.hydrohomie.mqtt.handler</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">pl.kmolski.hydrohomie.mqtt.handler</span></div>
<section class="package-description" id="package-description">
<div class="block">MQTT message handlers that facilitate communication with the smart coaster
 <p>
 The communication flow works like this:
 <ol>
     <li>
         Coaster starts, sends <a href="../model/CoasterMessage.ConnectedMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>ConnectedMessage</code></a>
         on the root MQTT topic (e.g. "hydrohomie"), Spring Integration channel "root". This causes the device to be
         registered with the application if it isn't already.
     </li>
     <li>
         Web app receives <a href="../model/CoasterMessage.ConnectedMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>ConnectedMessage</code></a>,
         sends <a href="../model/CoasterMessage.ListeningMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>ListeningMessage</code></a> on the device topic
         (e.g. "hydrohomie/device/esp32-000000"), Spring Integration channel "device-in". The coaster uses this information
         to set the initial state: base measurement and total volume for the day.
     </li>
     <li>
         Coaster sends <a href="../model/CoasterMessage.BeginMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>BeginMessage</code></a>,
         <a href="../model/CoasterMessage.EndMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>EndMessage</code></a> and
         <a href="../model/CoasterMessage.DiscardMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>DiscardMessage</code></a> on the device topic.
         These messages carry information about the base/final measurements and discard actions.
     </li>
     <li>
         Coaster periodically sends <a href="../model/CoasterMessage.HeartbeatMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>HeartbeatMessage</code></a> on the device topic.
         This is used by the application to update the inactivity information for the coaster.
     </li>
     <li>
         Web app listens for the device topic messages sent by the coaster and executes actions to handle them.
         For example, the base measurements can be reset, measurements can be saved to the database, etc.
     </li>
 </ol>

 All inbound and outbound messages are encoded as JSON/UTF-8.</div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="class-summary">
<div class="caption"><span>Classes</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DeviceTopicHandler.html" title="class in pl.kmolski.hydrohomie.mqtt.handler">DeviceTopicHandler</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">MQTT message handler for <a href="../model/CoasterMessage.IncomingDeviceTopicMessage.html" title="interface in pl.kmolski.hydrohomie.mqtt.model"><code>CoasterMessage.IncomingDeviceTopicMessage</code></a> on the device topic.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RootTopicHandler.html" title="class in pl.kmolski.hydrohomie.mqtt.handler">RootTopicHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">MQTT message handler for <a href="../model/CoasterMessage.ConnectedMessage.html" title="class in pl.kmolski.hydrohomie.mqtt.model"><code>CoasterMessage.ConnectedMessage</code></a> on the root topic.</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
</div>
</div>
</body>
</html>
